정보보호개론 4주차 - 3장 요약 과제
정보통신공학전공
201814140 유지아


3. 스니핑 공격
‘sniff’는 ‘코를 킁킁 거리다’ 라는 뜻으로, 스니핑은 코를 킁킁 거리면서 음식을 찾는 동물처럼 데이터 속에서 정보를 찾는 것이라고 생각하면 쉽게 이해할 수 있다.

3-1 스니핑 공격의 원리
기본적으로 네트워크에 접속하는 모든 시스템은 설정된 IP 주소와 고유한 맥 주소를 가지고 있다. 통신을 할 때 네트워크 카드는 이 두가지 정보로 자신의 랜 카드에 들어오는 프로토콜 형식에 따른 전기적 신호의 헤더 부분, 즉 패킷의 IP 주소와 MAC 주소를 인식하고 자신의 버퍼에 저장할 지를 결정한다.

3-2. 스니핑 공격의 종류
3-2-(1)	스위치 재밍 공격
OSI 7계층을 설명할 떄 스위치에 포트와 맥 주소를 저장한 테이블이 있다고 한 것을 기억할 것이다. 스위치 재밍은 스위치가 맥 주소 테이블을 기반으로 패킷을 포트에 스위칭 기능을 마비시키는 공격을 말한다. 이러한 스위치 재밍 공격을 MACOF 공격이라고도 한다.

3-2-(2) SPAN 포트 태핑 공격
SPAN은 스위치의 포트 미러링 기능을 이용한다. 포트 미러링이란 각 포트에 전송되는 데이터를 미러링하는 포트에도 똑같이 보내는 것으로, 침입 탐지 시스템을 설치하거나 네트워크 모니터링을 할 때 또는 로그 시스템을 설치할 때 많이 사용한다.

3-3. 스니핑 공격의 탐지
스니핑 공격은 스니퍼를 설치한  이후에는 네트워크에 별다른 이상 현상을 일으키지 않기 때문에 사용자가 이를 인지하기 어려워 능동적인 탐지를 통해서만 잡아낼 수 있다. 

3-3-(1) ping을 이용한 스니퍼 탐지
대부분의 스니퍼는 일반 TCP/IP 에서 동작하기 떄문에 request 를 받으면 response를 전달한다. 이를 이용하여 의심이 가는 호스트에 ping을 보내면 스니퍼를 탐지할 수 있는데, 이때 네트워크에 존재하지 않는 맥 주소를 위장해서 보낸다.

3-3-(2)ARP를 이용한 스니퍼 탐지
ping을 이용하는 것과 유사한 방법으로, 위조된 ARP request를 보냈을 때 ARP response가 오면 프러미스큐어스 모드로 설정되어 있는 것이다.

3-3-(3) DNS를 이용한 스니퍼 탐지
일반적으로 스니핑 프로그램은 사용자의 편의를 위해 스니핑한 시스템의 IP 주소에 DNS에 대한 이름 해석 과정인 Reverse-DNS lookup을 수행한다.

3-3-(4) 유인을 이용한 스니퍼 탐지
스니핑 공격을 하는 공격자의 주요 목적은 아이디와 패스워드 획득이다. 보안 관리자는 이 점을 이용하여 가짜 아이디와 패스워드를 네트워크 계속 뿌리고, 공격자가 이 아이디와 패스워드를 접속을 시도할 때 스니퍼를 탐지한다.

3-3-(5) ARP watch를 이용한 스니퍼 탐지
ARP watch는 맥 주소와 IP 주소의 매칭 값을 초기에 저장하고 ARP 트래픽을 모니터링 하여 이를 변하게 하는 패킷이 탐지되면 관리자에게 메일로 알려주는 틀이다.

4. 스푸핑 공격
‘Spoofing’의 사전적 의미는 ‘속이는 것’이다. 네트워크에서 스푸핑 공격의 대상은 맥 주소, 아이피 주소, 포트 등 네트워크 통신과 관련된 모든 것이 될 수 있다.

4-(1) ARP 스푸핑 공격
ARP 스푸핑은 맥 주소를 속이는 것이다. 공격자의 맥 주소를 로컬에서 통신하고 있는 서버와 클라이언트의 아이피 주소에 대한 데이터 링크 계층의 맥 주소로 속여, 클라이언트에서 서버로 가는 패킷이나 서버에서 클라이언트로 가는 패킷이 공격자에게 향하게 함으로써 랜의 통신 흐름을 왜곡한다.

4-(2) IP 스푸핑 공격
아이피 스푸핑은 쉽게 말해 아이피 주소를 속이는 것으로, 다른 사용자의 아이피를 강탈하여 어떤 권한을 획득한다. 공격자는 신뢰 관계를 맺고 있는 서버와 클라이언트를 확인한 후 클라이언트에 서비스 거부 공격을 하여 연결을 끊는다. 그리고 클라이언트의 아이피 주소를 확보하여 실제 클라이언트처럼 패스워드 없이 서버에 접근한다.

4-(3) ICMP 리다이렉트 공격
ICMP 리다이렉트는 네트워크 계층에서 스니핑 시스템을 네트워크에 존재하는 또 다른 라우터라고 알림으로써 패킷의 흐름을 바꾸는 공격이다.

4-(4) DNS 스푸핑 공격
DNS 스푸핑은 실제 DNS 서버보다 빨리 공격 대상에게 DNS reponse 패킷을 보내어 공격 대상이 잘못된 IP 주소로 웹 접속을 하도록 유도하는 공격이다. 웹 스푸핑과 비슷한 의미로 해석된다.

5. 세션 하이재킹 공격
세션 하이재킹은 말 그대로 ‘세션 가로채기’를 뜻한다. 세션은 ‘사용자와 컴퓨터 또는 두 컴퓨터 간의 활성화된 상태’이므로 세션 하이재킹은 두 시스템 간의 연결이 활성화된 상태, 즉 로그인된 상태를 가로채는 것을 말한다. 가장 쉬운 세션 하이재킹은 누군가 작업을 하다가 잠시 자리를 비웠을 때 몰래 PC 를 사용하여 원하는 작업을 하는 것이다.

TCP 세션 하이재킹은 다음과 같은 단계로 진행이 된다.
(1) 클라이언트와 서버 사이의 패킷을 통제한다. ARP 스푸핑 등을 통해 클라이언트와 서버 사이의 통신 패킷이 전부 공격자를 지나가게 한다.
(2 )서버에 클라이언트 주소로 연결을 재설정하기 위한 RSTreset 패킷을 보낸다. 서버는 패킷을 받아 클라이언트의 시퀀스 넘버가 재설정된 것으로 판단하고 다시 TCP 3-웨이 핸드세이킹을 수행한다.
(3) 공격자는 클라이언트 대신 연결되어 있던 TCP 연결을 그대로 물려받는다.

6. 무선 네트워크 공격과 보안
무선 랜은 유선 랜의 네트워크를 확장하려는 목적으로 사용된다. 따라서 무선 랜을 사용하려면 내부의 유선 네트워크에 AP 장비를 설치해야 한다. 확장된 무선 네트워크는 AP를 설치한 위치에 따라서 통신 영역이 결정되며, 보안이 설정되어 있지 않으면 공격자가 통신 영역 안에서 내부 사용자와 같은 권한으로 공격을 실행할 수 있다.

6-(1) AP 보안
AP 보안을 위한 첫 번째 사항은 물리적인 보안이다. 무선 랜은 공개된 장소에서 접근이 가능하다는 이유로 물리적인 보안을 가볍게 여기는 경우가 많다. 스위치나 라우터는 기업의 네트워크 안정성을 결정짓는 중요한 장비이기 때문에 반드시 물리적인 보안 통제로 적절히 관리하게 마련이다. AP도 스위치의 한 종류이므로 적절한 물리적인 통제가 필요하다.

두 가지 접근 방법은 SSID의 브로드캐스팅 여부에 따라 나뉜다. 무선 랜에서 AP의 존재를 숨기고 싶으면 SSID 브로드캐스팅을 막고 사용자가 SSID를 입력해야 AP에 접속할 수 있게 한다.

6-(2) 무선 랜 통신의 암호화
무선 랜은 통신 과정에서 데이터 유출을 막는 것 뿐 아니라 네트워크에 대한 인증을 위해서도 암호화를 수행한다. 
6-(2)-(1) WEP
WEP는 무선 랜 통신을 암호화 하기 위해 802.11b 프로토콜로부터 적용되었다. 1987년에 만들어진 RC 4 암호화 알고리즘을 기본으로 사용한다. WEP는 64비트와 128비트를 사용할 수 있는데 64비트는 40비트, 128비트는 104비트의 RC 4키를 사용한다.

6-(2)-(2) WPA - PSK
802.11i 보안 표준의 일부분으로 WEP 방식 보안의 문제점을 해결하기 위해 만들어졌다. 802.11i에는 WPA-1 과 WPA-2 규격이 포함되어 있다. 

6-(2)-(3) EAP와 802.1x 암호화
WPA/WPA2-PSK가 기존 WEP의 암호화, 복호화 키 관리 방식을 중점적으로 보완한 것인데 비해 WPA-엔터프라이즈는 사용자 인증 영역까지 보완한 방식이다. WPA-EAP 로도 불리는 WPA-엔터프라이즈 방식은 인증 및 암호화를 강화하기 위해 다양한 보안 표준과 알고리즘을 채택했다.


