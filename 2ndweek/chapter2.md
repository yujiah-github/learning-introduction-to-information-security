# 정보보호개론 2주차 과제

### 시스템 보안의 이해
- 시스템이란 하드웨어와 소프트웨어를 포괄하는 개념이다.  최근에는 네트워크의 강화와 시스템 간의 희미해진 경계로 인해 분산처리 시스템과 클라우드 환경이 중요해지고 있다. 따라서 시스템 보안을 다룰 때에는, 특정 범위에 국한하지 않고 큰 개념에서 생각해야한다.

- 시스템 보안은 사용자의 사용을 제한하여 시스템을 보호하는 기능이다. 시스템 보안의 주제로 크게 6가지로 정리할 수 있다.

> 시스템 보안의 주제
- 계정 관리: 적절한 권한을 가진 사용자를 식별하여 인증하는 관리이다.
- 세션 관리: 사용자와 시스템 사이 또는 두 시스템 사이의 활성화된 접속에 대한 관리다. 일정 시간이 지나면 세션을 종료하고 비인가자의 세션 가로채기를 통제하는 형태로 관리한다.
- 접근 제어: 시스템에 대한 네트워크 관점의 접근 통제다.
- 권한 관리: 시스템의 각 사용자가 적절한 권한으로 적절한 정보 자산에 접근 할 수 있도록 통제하는 것이다.
- 로그 관리: 시스템에 영향을 미치는 관련 사항을 기록하여 관리하는 것이다.
- 취약점 관리: 시스템 자체의 결함에 대한 관리이다.

<Br>

#### 계정 관리
- 계정은 시스템에 접근하는 가장 기본적인 수단이다. 계정은 아이디와 패스워드로 이루어진다. 로그인 과정에서 자신이 누구인지 알리게 되는데, 이것을 식별 과정이라고 한다. 그런데, 아이디만으로는 식별이 힘든 경우가 있다. 따라서, 로그인을 허용하기 위한 확인인 인증을 필요로 한다.

<br>

보안에는 크게 4가지의 인증 방법이 있다.

<br>

> 보안 인증 방법
- 알고 있는 것: 패스워드와 같이 머릿속으로 기억하고 있는 정보를 이용하여 인증을 수행한다.
- 가지고 있는 것: 신분증이나 OTP 장치 등으로 인증을 수행한다.
- 스스로의 모습: 홍채와 같은 생체 정보로 인증을 수행한다.
- 위치하는 곳: 콜백 등 사용자의 위치 정보를 이용하여 인증을 수행한다.

### 운영체제의 계정 관리
- 운영체제는 시스템을 구성하고 운영하기 위한 가장 기본적인 소프트웨어로, 운영체제에 대한 권한을 가지게 되면 해당 시스템에서 동작하는 다른 응용 프로그램에 대해서도 어느 정도의 권한을 가질 수 있다. 운영체제에는 관리자 계정과 일반 사용자 계정이 있다. 권한을 따로 주지 않아도 운영체제 관리자는 그 운영체제에 존재하는 응용 프로그램에 대한 상당 수준의 권한을 가지게 된다.

- 운영체제의 계정 관리는 윈도우에서의 계정 관리와 유닉스에서의 계정 관리로 나누어 살펴볼 수 있다.

- 윈도우에서 운영체제 관리자 권한을 가진 계정을 Administrator 라고 한다. 대표적인 관리자 그룹으로 윈도우 시스템의 모든 권한을 가지고 있다. 사용자 계정을 만들거나 없앨 수 없고 디렉터리와 프린터를 공유하는 명령을 내릴 수 있다. 사용 가능한 자원에 대한 권한을 설정할 수 있다. 다른 주요 그룹으로는 Power Users, Backup Operators, Users, Guests 등이 있다.

- 유닉스에서는 기본 관리자 계정으로 root가 있다. Root 이외의 사용자 번호가 0인 계정이 있으면 그 계정도 관리자 권한을 가진다. root를 제외한 그룹은 윈도우처럼 모두 임의로 생성되며 고유의 권한이 없다.

### 데이터베이스의 계정 관리
- 데이터베이스의 종류에 따라 운영체제와 데이터베이스의 계정이 완전히 별도로 존재하는 경우도 있고, 운영체제 계정이 데이터베이스 계정인 경우도 있다. MSSQL의 관리자 계정은 sa이고 오라클의 관리자 계정으로는 sys, system이 있다. System은 sys와는 다르게 데이터베이스 생성이 불가능하다

### 응용 프로그램의 계정 관리
- FTP나 웹 서비스 같은 응용 프로그램 역시 고유의 계정을 가지기도 하고 운영체제와 계정을 공유하기도 한다. TFTP와 같이 인증이 필요하지 않은 응용 프로그램은 취약한 응용 프로그램을 이용해 공격자가 운영체제에 접근하여 공격하는 데에 사용할 수 있기 때문에 주의가 필요하다.

### 네트워크 장비의 계정 관리
- 네트워크 장비는 보통 패스워드만 알면 접근이 가능하다. 패스워드를 처음 입력하면 사용자 모드로 로그인 되며, 사용자 모드에서 관리자 모드로 로그인하려면 다시 별도의 패스워드를 입력해야 한다.


#### 세션 관리
- 세션은 ‘사용자와 시스템 사이 또는 두 시스템 사이의 활성화된 접속’을 의미한다. 
- 서버 입장의 세션 관리는 고전동화 <해님 달님>을 예시로 들 수 있는데, 오누이가 어머니인지 확인하기 위해 문 안으로 손을 넣어보라고 했던 행동이 어머니의 세션이 유효한지 확인하기 위해 ‘손의 모양새’를 이용한 것이므로, 서버 입장의 세션 인증 과정과 유사하다. 

- 세션을 유지하기 위한 보안사항으로 세션 하이재킹이나 네트워크 패킷 스피닝을 막기 위해 암호화를 작용하는 것과 지속적인 인증을 하는 것이 있다.

- 지속적인 인증은 처음 인증에 성공한 사용자와 같은지 확인하는 과정으로, 지속적인 인증을 통해 세션의 유효성을 검증한다. 지속적인 인증 제공에 대한 문제는 타임 아웃 설정으로 보완할 수 있다. 

- 시스템이 아닌 웹 서비스를 이용할 때도 지속적인 인증이 적용된다. 인터넷 뱅킹을 할 때 공인 인증서의 패스워드나 보안 카드의 숫자를 반복해서 물어보는 경우 등이 예시이다.
 
#### 접근 제어
- 접근 제어는 적절한 권한을 가진 인가자만 특정 시스템이나 정보에 접근할 수 있도록 통제하는 것으로, 시스템의 보안 수준을 갖추는 데 가장 기본적인 수단이 된다. 시스템 및 네트워크에 대한 접근 제어의 가장 기본적인 수단은 IP와 서비스 포트다.

### 운영체제의 접근 제어
- 운영체제에 대한 적절한 접근 제어를 수행하려면 가장 먼저 운영체제에서 어떤 관리적 인터페이스가 운영되고 있는지를 파악해야 한다.
- 유닉스에는 텔넷, SSH, XDMCP, FTP 등이 있고 윈도우에는 터미널 서비스, GUI 관리 툴 등이 있다. 
- 접근 가능한 인터페이스를 확인했으면 불필요한 인터페이스를 제거해야 한다. 불필요한 인터페이스를 제거할 때는 사용할 인터페이스에 보안 정책을 적용할 수 있는지를 판단해야 한다. 
- 유닉스에서 많이 쓰이는 텔넷과 FTP는 스니핑 등 공격에 취약하기 때문에 사용을 권고하지 않는다. SSH, XDMCP를 사용하는 것이 좋다.

### 데이터베이스의 접근 제어
- 데이터베이스는 조직의 영업 및 운영 정보를 담고 있는 핵심 응용 프로그램이다. 데이터베이스에 대한 적절한 접근 제어는 필수이지만 모든 데이터베이스가 적절한 접근 제어 수단을 제공하는 것은 아니다. 일정 수준 이상의 보안 정책을 적용할 수 있는 데이터베이스로는 오라클이 있다. MS-SQL은 IP에 대한 접근 제어를 기본으로 제공하지 않으므로 윈도우의 다른 서비스처럼 설치된 방화벽을 통해 IP 접근 제어를 수행해야 한다. MS-SQL은 윈도우 인증 모드와 함께 윈도우 인증과 SQL 인증을 모두 사용할 수 있는 혼합 인증 모드도 지원한다.

### 응용 프로그램의 접근 제어
응용 프로그램의 목적과 역할에 따라 접근 제어를 제공하는 경우도 있고 그렇지 않은 경우도 있다. 웹 서비스를 제공하는 IIS 와 NGINX 역시 IP에 대한 접근 제어를 제공하며, SSL은 클라이언트와 서버 인증서를 이용하여 접근 제어를 수행할 수도 있다.

### 네트워크 장비의 접근 제어
네트워크 장비도 IP에 대한 접근 제어가 가능하다. 네트워크 장비에서 수행하는 IP에 대한 접근 제어로는 관리 인터페이스에 대한 접근 제어와 ACL을 통한 네트워크 트래픽 접근 제어가 있다. 네트워크 장비의 관리 인터페이스에 대한 접근 제어는 유닉스의 접근 제어와 거의 같고, ACL을 통한 네트워크 트래픽 접근 제어는 방화벽에서 수행하는 접근 제어와 기본적으로 같다.

### 운영체제의 권한 관리
#### 윈도우의 권한 관리
- 윈도우는 NT 4.0 이후 버전부터 NTFS를 기본 파일 시스템으로 사용한다. NTFS에서 그룹 또는 개별 사용자에 대해  설정할 수 있는 권한의 종류는 모든 권한, 수정, 읽기 및 실행, 디렉터리 내용 보기, 읽기, 쓰기 등 여섯 가지이다. 이러한 윈도우의 여섯 가지 권한에는 접근 권한 누적, 파일 접근 권한이 디렉터리 접근 권한보다 우선, ‘허용’보다 ‘거부’가 우선 등의 3가지 규칙이 있다. 

#### 유닉스의 권한 관리
- 유닉스에서는 파일 또는 디렉터리의 소유자, 그룹, 소유자도 그룹도 아닌 사용자로 구분하여 읽기, 쓰기, 실행 권한을 부여할 수 있다. 권한은 숫자로 표기할 수 있다. 읽기는 4, 쓰기는 2, 실행은 1로 나타낸 뒤 각 권한 세트별로 합치는 것이다.

### 데이터베이스의 권한 관리
#### 질의문에 대한 권리
- 데이터베이스 질의문에는 DDL, DML, DCL이 있다. DDL은 데이터 구조를 정의하는 질의문이다. CREATE, DROP, ALTER가 있다. DML은 데이터베이스의 운영 및 사용과 관련해 가장 많이 사용하는 질의문이다. SELECT, INSERT, UPDATE, DELETE가 있다. DCL는 권한 관리를 위한 질의문이다. GRANT, DENY, REVOKE가 있다.

#### 뷰에 대한 관리
- 데이터베이스에 대한 중요한 보안 사항 중 하나는 뷰이다. 뷰는 참조 테이블의 각 열에 대해 사용자의 권한을 설정하는 것이 불편해서 만든 가상 테이블이다.

### 응용 프로그램의 권한 관리
- 응용 프로그램에 대한 권한 설정은 응용 프로그램마다 조금씩 다른 형태를 보인다. 하지만 전반적으로는 앞서 살펴본 운영체제나 데이터베이스와 마찬가지로 관리자 계정과 일반 사용자 계정으로 나뉜다. 응용 프로그램 보안에서 관리자 계정과 일반 사용자 계정의 권한 관리도 중요하지만, 보안 관리자 입장에서는 응용 프로그램 내의 권한 관리 보다 응용 프로그램 자체의 실행 권한이 더 중요한 경우가 있다.

### 로그 관리
- 시스템 사용자가 로그인한 후 명령을 내리는 과정에 대한 시스템의 동작은 Authentication, Authorization, Accounting으로 구분된다.
<br>

- Authentication(인증): 자신의 신원을 시스템에 증명하는 과정, 즉 아이디와 패스워드를 입력하는 과정이다.
- Authorization(인가): 지문이나 패스워드 등을 통해 로그인이 허락된 사용자로 판명되어 로그인하는 과정이다.
- Accounting: 로그인했을 때 시스템이 이에 대한 기록을 남기는 활동이다.

<br>

- AAA에 대한 로그 정보는 해커나 시스템에 접근한 악의적인 사용자를 추적하는 데 많은 도움이 된다. 
- 추적에 대한 기록의 충실도를 책임 추적성이라고 하는데, 책임 추적성이 높은 시스템일수록 로그가 충실하게 남아 있다고 생각할 수 있다.

### 운영체제의 로그 관리
- 윈도우와 유닉스는 상당히 다른 로그 체제를 갖추고 있다. 윈도우는 이벤트라고 불리는 중앙 집중화된 형태로 로그를 수집하여 저장하지만, 유닉스는 로그를 여러 곳에 산발적으로 저장한다.

### 윈도우의 로그
- 윈도우의 감사 정책, 즉 로깅 정책은 기본적으로 수행하지 않게 설정되어 있다. 
- 필요할 경우 수행하도록 설정해야 하며, 설정 시 성공과 실패에 따라 선택적으로 로깅을 수행할 수 있다. 
- 로깅 정책을 적용하면 이벤트 뷰어를 통해 쌓이는 로그 정보를 확인할 수 있다.
- 이벤트 뷰어에 표시되는 항목은 종류, 날짜, 시간, 원본, 범주, 이벤트, 사용자, 컴퓨터가 있다.
- 윈도우의 로그 종류는 개체 엑세스 감사, 계정 관리 감사, 계정 로그인 이벤트 감사, 권한 사용 감사, 로그인 이벤트 감사, 디렉터리 서비스 엑세스 감사, 정책 변경 감사, 프로세스 추적 감사, 시스템 이벤트가 있다.

### 유닉스의 로그
- 윈도우와 달리 유닉스 시스템의 로그는 중앙 집중 방식으로 관리되지 않고 분산되어 생성된다. 
- 시스템마다 각 로그의 저장 위치가 조금씩 다를 수 있다. 유닉스 로그 종류에는 **utmp, wtmp, secure, history, syslog**가 있다. 

### 데이터베이스의 로그 관리
- 데이터베이스는 서비스의 특성상 많은 데이터를 요청하는 일이 빈번하여 일반적으로 로그인 이외에는 데이터베이스 접근 및 데이터 처리 로그를 남기지 않는다. 
- 그러나 데이터베이스에 대한 접근 및 데이터 처리 로그는 데이터 유출과 직접적인 관련이 있기 때문에 시스템 성능이 수용할 수 있는 범위 내에서 적절하게 로깅 정책을 적용해야 한다.

### MS-SQL의 로그
- MS-SQL의 종류로는 Error, general, slow query, binary & Relay 로그가 있다. 

### 오라클의 로그
- 오라클에서 감사 로그를 활성화하려면 먼저 오라클 파라미터 파일의 AUDIT_TRAIL 값을 ‘DB’ 또는 ‘TRUE’ 로 저장해야 한다.
- 설정 값에는 NONE 또는 FALSE, DB or TRUE, OS 등이 있다. 오라클의 주요 감사 뷰로 dba_stmt_audit_oots, dba_audit_trail 등이 있다.

### 데이터베이스 모니터링
- 데이터베이스에 대한 로그를 남기는 가장 좋은 방법은 별도의 데이터베이스 모니터링 툴을 도입하는 것이다. 
- 네트워크 트래픽을 모니터링할 수 있는 태핑 장비를 네트워크에 설치하고, 네트워크 패킷 중에서 데이터베이스 질의문을 확인하여 이를 로그로 남긴다.

### 응용 프로그램의 로그 관리
- 보안과 관련해서 가장 흔하게 접할 수 있는 응용 프로그램은 웹 서버와 FTP 서버이다.

### IIS 웹 서버의 로그
- IIS 웹 서버 로그는 IIS 대화상자의 로깅 항목에서 확인할 수 있다.
- 로그는 날짜와 시간, 서버 IP, 서버 포트, 클라이언트 IP, 실행 결과 코드, 처리 소요 시간, 클라이언트의 웹 브라우저 등이 있다. 

### 아파치 웹 서버의 로그
- 아파치 웹 서버에 대한 기본 접근 로그는 access_log 에 남고 형식은 combined 로 지정된다. 
- 로그는 클라이언트 IP, 클라이언트 로그인명, 클라이언트 사용자명, 날짜와 시간, 실행 결과 코드 등이 있다.

### 네트워크 장비와 로그 관리
- 일반적으로 네트워크에서는 대량의 트래픽이 생성되고 대부분의 트래픽이 일시적으로 존재했다가 사라지기 때문에 살펴볼 수 있는 로그가 그리 다양하지 않다. 
- 네트워크와 관련한 다양한 시스템을 구비해놓을 경우 살펴볼 수 있는 로그는 네트워크 보안 시스템의 로그, 네트워크 관리 시스템의 로그, 네트워크 장비 인증 시스템의 로그 등으로 크게 3가지가 있다.
- 라우터나 스위치에는 로그를 남기는 기능이 있지만 대부분의 네트워크 장비 자체에는 하드디스크와 같이 로그를 저장할 공간이 없어 각 네트워크 장비에서 생성되는 로그는 네트워크를 통해 로그 서버로 전송된다.

## 취약점 관리
### 패치 관리
- 보안 설정을 아무리 잘해도 시스템 자체에 취약점이 존재하면 시스템 운영자 수준에서 이를 막을 수 있는 방법이 없다. 
- 이럴 때에는 운영체제나 데이터베이스와 같은 응용 프로그램을 만든 제작사가 배포하는 패치 또는 서비스 팩을 적용해야한다.
- 유닉스 시스템에도 내재된 취약점이 있지만 윈도우는 사용률이 훨씬 높고 접근하기도 쉬워 공격을 더 많이 받는다.
- 따라서 유닉스보다 윈도우에서 패치의 중요성이 상대적으로 더 크다.

### 응용 프로그램별 고유 위험 관리
- 응용 프로그램 중에는 운영체제 파일이나 명령을 실행할 수 있는 응용 프로그램이 있다. 대표적인 예는 **MS-SQL의 xp_cmdshell** 이다.

### 응용 프로그램의 정보 수집 제한
- 응용 프로그램이 운영체제에 직접적인 영향을 미치지 않더라도 응용 프로그램의 특정 기능이 운영체제의 정보를 노출시키기도 한다.
- 유닉스의 경우 이메일을 보낼 때 수신자가 있는 시스템의 sendmail 데몬에 해당 계정이 존재하는지 확인하는 과정으로 일반 계정은 vrfy 명령을, 그룹은 expn 명령을 시스템 내부에서 사용한다.

### 모바일 보안
- 기술이 발전함에 따라, 고정된 위치에 있던 시스템 영역이 모바일로 확대된 지는 이미 오래되었다.
- 모바일 기기도 기존 시스템 보안 영역과 유사한 보안 영역을 가지고 있다.

### 모바일 운영체제 보안
- 모바일 기기의 운영체제는 일반 pc의 운영체제와 기본적으로 같다. 
- 또한 모바일 기기 운영체제의 보안 취약점도 형태만 조금 다를 뿐 일반 pc 운영체제의 보안 취약점과 거의 유사하다.

### 모바일 운영체제의 역사
- 모바일 운영체제는 팜 os, 윈도우 ce, 블렉베리 os, iOS , 안드로이드 순으로 발전해왔다.

### iOS 보안 체계
- iOS는 맥 os 인 os x의 모바일 버전으로 시작했다.
- 맥 os 는 unix 에서 파생하여 발전된 것이므로 iOS 의 원래 틀은 유닉스라고 생각할 수 있다. 
- **안전한 부팅 절차 확보, 시스템 소프트웨어 개인화, 응용 프로그램에 대한 서명, 샌드박스 활용, 멀티태스킹 금지, 원격지에서 iOS 금지** 등의 시스템 보안 체계를 갖추고 있다.

### Ios의 취약점
- 애플이 보안 통제권을 철저하게 소유하고 있기 때문에 비교적 안전한 것으로 알려져있다.
- iOS 는 외부 서비스를 제공하기 위해 특정한 인터페이스를 제공하는 부분이 거의 없기 때문에 외부 해커가 접근할 수 있는 방법이 제한적이다.
- iOS 의 보안상 문제는 거의 탈옥을 한 기기에서 발생한다.

### 안드로이드의 보안 체계
- 안드로이드는 리눅스 커널을 기반으로 한다. 
- 안드로이드는 오픈 소스인 웹 키트 응용 프로그램 프레임워크 기반의 브라우저를 지원하고 자바로 작성된 소프트웨어는 달빅 가상 머신에서 실행 가능한 코드로 컴파일된다. 
- **응용 프로그램의 권한 관리, 응용 프로그램의 서명, 샌드박스 활용** 등의 시스템 보안 체계를 갖추고 있다.

### 안드로이드의 취약점
- 안드로이드는 자유로운 반면에 상대적으로 보안이 취약하다고 알려져있다.
- 리눅스 운영체제와 유사한 보안 취약점을 그대로 가지고 있다.
- 일반 계정으로 동작할 때 약간의 제한이 있는데, 이를 root 권한으로 바꾸면 제한을 벗어나 모바일 기기에 대한 완전한 통제권을 가질 수 있다.

### 모바일 기기 보안
- 모바일 기기 보안의 문제점으로 **이동성, 블루투스, 블루프린팅, 블루스나프, 블루버그** 등이 있다.
- 이동성이란 모바일 기기는 이동성이 뛰어나기 때문에 공격을 받을 때보다 공격에 사용될 때 문제의 소지가 더 크다는 것이다. 
- 블루투스란 무선으로 다양한 장치를 연결하는 기술이며 여러 장치가 작은 규격과 적은 전력으로 접근하기 때문에 위험에 노출될 수 있다. 
- 블루프린팅은 sdp을 통해 블루투스 장치를 검색하고 모델을 확인한다. 
- 블루스나프란 opp 기능을 사용하여 블루투스 장치에 있는 주소록이나 달력 등의 내용을 요청하여 취약한 파일에 접근할 수 있다. 
- 블루버그란 10m 정도 떨어진 거리에서 블루투스 기기에 전화 걸기, sms 보내기 등을 실행할 수 있다.